var wa_fronted_acf;!function(t){wa_fronted.add_action("on_bind",function(){t("#acf-dialog #close-acf-dialog").click(function(t){t.preventDefault(),t.stopPropagation(),wa_fronted_acf.hide_acf_form()}),wa_fronted.add_filter("revision_content",wa_fronted_acf.switch_revision_content),wa_fronted.add_filter("revision_db_value ",wa_fronted_acf.switch_revision_db_value),"undefined"!=typeof acf&&acf.add_action("submit",function(e){for(var a=e.serializeArray(),o={action:"wa_save_acf_form"},n=0;n<a.length;n++)o[a[n].name]=a[n].value;t.post(global_vars.ajax_url,o).done(function(t){wa_fronted_acf.refresh_acf_field(wa_fronted_acf.data.acf_temp.field_key,wa_fronted_acf.data.acf_temp.post_id,wa_fronted.data.current_editor_options,wa_fronted.data.current_editor)})})}),wa_fronted.add_action("on_setup_editor",function(e,a,o){wa_fronted_acf.get_acf_field_object(a.field_type,function(o){if(!o.hasOwnProperty("error")){switch(o.type){case"file":case"image":null!==o.value&&e.attr("data-db-value",o.value.ID)}var n=e.children(),i=0!==n.length?t(n[0]):e,r=i.width(),f=i.position();t("body").prepend('<button id="'+o.key+'" title="Edit '+o.type+'" class="edit-acf-field" style="left: '+(f.left+(r/2-13))+'px;"><i class="dashicons dashicons-edit"></i></button>');var c,d=t("#"+o.key),s=function(){c=setTimeout(function(){d.removeClass("show")},500)};e.hover(function(){clearTimeout(c);var t=i.position();d.css({top:t.top+"px"}).addClass("show")},s),d.hover(function(){clearTimeout(c)},s).click(function(t){t.preventDefault(),t.stopPropagation(),wa_fronted_acf.show_acf_form(o.key,a.post_id,a,e)})}})}),wa_fronted_acf={data:{acf_temp:{field_key:!1,post_id:!1}},get_acf_field_object:function(e,a){t.post(global_vars.ajax_url,{action:"wa_get_acf_field_object",field_key:e},function(t){a(t)})},get_acf_field_contents:function(e,a,o){t.post(global_vars.ajax_url,{action:"wa_get_acf_field_contents",field_key:e,post_id:a},function(t){o(t)})},get_acf_form:function(e,a,o){t.post(global_vars.ajax_url,{action:"wa_get_acf_form",field_key:e,post_id:a,redirect:window.location.pathname},function(t){o(t)})},show_acf_form:function(e,a,o,n){var i=this;i.data.acf_temp.field_key=e,i.data.acf_temp.post_id=a,wa_fronted.data.current_editor_options=o,wa_fronted.data.current_editor=n,i.get_acf_form(e,a,function(e){t("#acf-dialog #acf-dialog-inner").html(e.output),t("#acf-dialog #acf-dialog-inner form").submit(function(t){t.preventDefault()}),t("#acf-dialog").fadeIn().addClass("active")})},hide_acf_form:function(){t("#acf-dialog").fadeOut().removeClass("active")},refresh_acf_field:function(t,e,a,o){var n=this;n.get_acf_field_contents(t,e,function(t){var e="";if(a.hasOwnProperty("output")){var i=a.output.split(".");e=t.value;for(var r=0;r<i.length;r++)e=e[i[r]]}else e=t.value;wa_fronted.specific_output_to(o,a,t.value.ID,e)||(a.hasOwnProperty("reload_contents")&&a.reload_contents?o.load(document.URL+" "+a.container):o.html(e)),wa_fronted.do_action("acf_refresh_contents",o,a),n.hide_acf_form()})},switch_revision_content:function(t,e,a){if(0!==a.acf_fields.length&&"object"==typeof a.acf_fields&&a.acf_fields.hasOwnProperty(e.options.field_name)){if(e.options.hasOwnProperty("output")){var o=e.options.output.split(".");output_content=a.acf_fields[e.options.field_name].value;for(var n=0;n<o.length;n++)output_content=output_content[o[n]]}else output_content=a.acf_fields[e.options.field_name].value;return output_content}return t},switch_revision_db_value:function(t,e,a){return 0!==a.acf_fields.length&&"object"==typeof a.acf_fields&&a.acf_fields.hasOwnProperty(e.options.field_name)?a.acf_fields[e.options.field_name].value.ID:t}}}(jQuery);
